(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21c8cc66"],{"0f99":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("element-box",[a("form-component")],1)],1)},n=[],r=(a("cadf"),a("551c"),a("097d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit(t)}}},[a("div",{staticClass:"row"},[a("form-group",{attrs:{label:"Título",validate:e.vee,name:"title"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.news.title,expression:"news.title"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"form-control",attrs:{name:"title"},domProps:{value:e.news.title},on:{input:function(t){t.target.composing||e.$set(e.news,"title",t.target.value)}}})]),a("form-group",{attrs:{label:"Resumo",name:"description",validate:e.vee}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.news.resume,expression:"news.resume"},{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"}],staticClass:"form-control",attrs:{name:"description"},domProps:{value:e.news.resume},on:{input:function(t){t.target.composing||e.$set(e.news,"resume",t.target.value)}}})]),a("form-group",{attrs:{label:"Conteúdo",name:"text",validate:e.vee}},[a("wysiwyg",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{refs:"text",name:"text"},model:{value:e.news.text,callback:function(t){e.$set(e.news,"text",t)},expression:"news.text"}})],1),a("form-group",{attrs:{label:"Tags",col:"col-md-6",validate:e.vee,name:"tags"}},[a("v-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{options:e.tags,name:"tags",multiple:"",taggable:!0,"tag-placeholder":"Add this as new tag",placeholder:"Adcione tags para sua notícia",label:"name","track-by":"value"},model:{value:e.tags,callback:function(t){e.tags=t},expression:"tags"}}),e._l(e.errors.tags,function(t){return e.errors?a("span",{staticClass:"text-danger"},[a("small",[e._v(e._s(t))])]):e._e()})],2),a("form-group",{attrs:{label:"Imagem",name:"cover",validate:e.vee}},[a("input",{ref:"cover",staticClass:"form-control",attrs:{type:"file",name:"cover"},on:{change:e.fileChange}}),e._l(e.errors.cover,function(t){return e.errors?a("span",{staticClass:"text-danger"},[a("small",[e._v(e._s(t))])]):e._e()}),a("p",[a("a",{attrs:{href:e.news.image,target:"_blank"}},[e._v(" Imagem atual ")])])],2),a("button",{staticClass:"btn btn-primary float-right",attrs:{type:"submit"}},[e._v("Enviar")])],1)])])}),i=[],o=(a("28a5"),a("eebb")),l=a("3908"),u={mixins:[o["a"],l["a"]],methods:{submit:function(){var e=this;this.$validator.validate().then(function(t){if(t){e.preload(!0);var a=e.getFormData();e.$store.dispatch("updateNews",{data:a,id:e.$route.params.id}).then(function(t){e.$router.push({name:"admin.news.index"}),e.$snotify.success(e.constants.messages.CREATE_SUCCESS_MESSAGE,e.constants.messages.SUCCESS_MESSAGE)}).catch(function(t){e.handleErrors(t)}).finally(function(){e.preload(!1)})}else e.$snotify.warning(e.constants.messages.FORM_VALIDATE_MESSAGE)})}},created:function(){var e=this;this.preload(!0),this.$store.dispatch("getNews",this.$route.params.id).then(function(){e.news=e.$store.state.news.current,e.tags=e.news.tags.split(";"),e.preload(!1)})}},c=u,d=a("2877"),m=Object(d["a"])(c,r,i,!1,null,null,null);m.options.__file="FormEdit.vue";var v=m.exports,p={components:{FormComponent:v},created:function(){}},f=p,g=Object(d["a"])(f,s,n,!1,null,null,null);g.options.__file="Edit.vue";t["default"]=g.exports},"28a5":function(e,t,a){a("214f")("split",2,function(e,t,s){"use strict";var n=a("aae3"),r=s,i=[].push,o="split",l="length",u="lastIndex";if("c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[l]||2!="ab"[o](/(?:ab)*/)[l]||4!="."[o](/(.?)(.?)/)[l]||"."[o](/()()/)[l]>1||""[o](/.?/)[l]){var c=void 0===/()??/.exec("")[1];s=function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!n(e))return r.call(a,e,t);var s,o,d,m,v,p=[],f=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),g=0,h=void 0===t?4294967295:t>>>0,w=new RegExp(e.source,f+"g");c||(s=new RegExp("^"+w.source+"$(?!\\s)",f));while(o=w.exec(a)){if(d=o.index+o[0][l],d>g&&(p.push(a.slice(g,o.index)),!c&&o[l]>1&&o[0].replace(s,function(){for(v=1;v<arguments[l]-2;v++)void 0===arguments[v]&&(o[v]=void 0)}),o[l]>1&&o.index<a[l]&&i.apply(p,o.slice(1)),m=o[0][l],g=d,p[l]>=h))break;w[u]===o.index&&w[u]++}return g===a[l]?!m&&w.test("")||p.push(""):p.push(a.slice(g)),p[l]>h?p.slice(0,h):p}}else"0"[o](void 0,0)[l]&&(s=function(e,t){return void 0===e&&0===t?[]:r.call(this,e,t)});return[function(a,n){var r=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,r,n):s.call(String(r),a,n)},s]})},3908:function(e,t,a){"use strict";t["a"]={data:function(){return{news:{},markets:[{}],imageUpload:"",imagePreview:"",errors:{},tags:[]}},methods:{getFormData:function(){var e=new FormData;return dd(this.tags,this.tags.reduce(function(e,t){return e+";"+t})),e.append("tags",this.tags.reduce(function(e,t){return e+";"+t})),e.append("title",this.news.title),e.append("resume",this.news.resume),e.append("text",this.news.text),this.imageUpload&&e.append("image",this.imageUpload),e},fileChange:function(e){this.errors.image="";var t=e.target.files||e.dataTranfer.files;if(t.length){var a=t[0];a.size>this.constants.DEFAULT_IMAGE_UPLOAD_SIZE?(this.errors.image="o tamanho da imagem excedeu o tamanho máximo",this.$refs.image.value=""):this.imageUpload=a}else this.$snotify.error("Não há arquivos selecionados","Erros!")}}}},aae3:function(e,t,a){var s=a("d3f4"),n=a("2d95"),r=a("2b4c")("match");e.exports=function(e){var t;return s(e)&&(void 0!==(t=e[r])?!!t:"RegExp"==n(e))}}}]);
//# sourceMappingURL=chunk-21c8cc66.f278621b.js.map