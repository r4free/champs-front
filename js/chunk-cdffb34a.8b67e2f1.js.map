{"version":3,"sources":["webpack:///./src/views/admin/news/CommonMixins.js","webpack:///./src/views/admin/news/Create.vue?3488","webpack:///./src/views/admin/news/Form.vue?9364","webpack:///src/views/admin/news/Form.vue","webpack:///./src/views/admin/news/Form.vue?555d","webpack:///./src/views/admin/news/Form.vue","webpack:///src/views/admin/news/Create.vue","webpack:///./src/views/admin/news/Create.vue?4782","webpack:///./src/views/admin/news/Create.vue"],"names":["__webpack_exports__","data","news","markets","imageUpload","imagePreview","errors","tags","methods","getFormData","FormData","dd","this","reduce","a","v","append","title","resume","text","fileChange","event","image","files","target","dataTranfer","length","file","size","constants","DEFAULT_IMAGE_UPLOAD_SIZE","$refs","value","$snotify","error","render","_vm","_h","$createElement","_c","_self","staticClass","_v","staticRenderFns","Formvue_type_template_id_3dd672e6_render","on","submit","$event","preventDefault","attrs","label","validate","vee","name","directives","rawName","expression","domProps","input","composing","$set","refs","model","callback","$$v","col","options","multiple","taggable","tag-placeholder","placeholder","track-by","_l","e","_s","_e","ref","type","change","_m","Formvue_type_template_id_3dd672e6_staticRenderFns","Formvue_type_script_lang_js_","mixins","handle_errors","CommonMixins","createNews","_this","preload","$store","dispatch","then","response","$router","push","success","messages","CREATE_SUCCESS_MESSAGE","SUCCESS_MESSAGE","catch","handleErrors","finally","_this2","$validator","hasnotError","warning","FORM_VALIDATE_MESSAGE","resetForm","cover","created","news_Formvue_type_script_lang_js_","component","Object","componentNormalizer","__file","Form","Createvue_type_script_lang_js_","components","FormComponent","news_Createvue_type_script_lang_js_","Create_component"],"mappings":"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","file":"js/chunk-cdffb34a.8b67e2f1.js","sourcesContent":["export default{\r\n    data() {\r\n        return {\r\n            news: {},\r\n            markets: [{}],\r\n            imageUpload: '',\r\n            imagePreview: '',\r\n            errors: {},\r\n            tags: []\r\n        }\r\n    },\r\n   methods:{\r\n       getFormData: function () {\r\n\r\n           let data = new FormData();\r\n\r\n           // data.append('tags[]', tags[i]);\r\n           dd(this.tags,this.tags.reduce((a, v) => a + \";\" + v));\r\n           data.append('tags', this.tags.reduce((a, v) => a + \";\" + v));\r\n\r\n           data.append('title', this.news.title);\r\n           data.append('resume', this.news.resume);\r\n           data.append('text', this.news.text);\r\n\r\n           this.imageUpload && data.append(\"image\", this.imageUpload);\r\n\r\n           return data;\r\n\r\n       },\r\n       fileChange(event) {\r\n           this.errors.image = \"\";\r\n\r\n           let files = event.target.files || event.dataTranfer.files;\r\n\r\n           if (files.length) {\r\n\r\n               let file = files[0];\r\n\r\n               if (file.size > this.constants.DEFAULT_IMAGE_UPLOAD_SIZE) {\r\n\r\n                   this.errors.image = \"o tamanho da imagem excedeu o tamanho máximo\";\r\n\r\n                   this.$refs.image.value = \"\"\r\n\r\n               } else {\r\n                   this.imageUpload = file;\r\n               }\r\n\r\n           } else {\r\n               this.$snotify.error(\"Não há arquivos selecionados\", \"Erros!\");\r\n           }\r\n       },\r\n   }\r\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('element-wrapper',[_c('h6',{staticClass:\"element-header\"},[_vm._v(\"\\n        Nova notícia\\n    \")]),_c('element-box',[_c('form-component')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submit($event)}}},[_c('div',{staticClass:\"row\"},[_c('form-group',{attrs:{\"label\":\"Título\",\"validate\":_vm.vee,\"name\":\"title\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.news.title),expression:\"news.title\"},{name:\"validate\",rawName:\"v-validate\",value:('required|max:100'),expression:\"'required|max:100'\"}],staticClass:\"form-control\",attrs:{\"name\":\"title\"},domProps:{\"value\":(_vm.news.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.news, \"title\", $event.target.value)}}})]),_c('form-group',{attrs:{\"label\":\"Resumo\",\"name\":\"description\",\"validate\":_vm.vee}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.news.resume),expression:\"news.resume\"},{name:\"validate\",rawName:\"v-validate\",value:('required|max:100'),expression:\"'required|max:100'\"}],staticClass:\"form-control\",attrs:{\"name\":\"description\"},domProps:{\"value\":(_vm.news.resume)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.news, \"resume\", $event.target.value)}}})]),_c('form-group',{attrs:{\"label\":\"Conteúdo\",\"name\":\"text\",\"validate\":_vm.vee}},[_c('wysiwyg',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"refs\":\"text\",\"name\":\"text\"},model:{value:(_vm.news.text),callback:function ($$v) {_vm.$set(_vm.news, \"text\", $$v)},expression:\"news.text\"}})],1),_c('form-group',{attrs:{\"label\":\"Tags\",\"col\":\"col-md-6\",\"validate\":_vm.vee,\"name\":\"tags\"}},[_c('v-select',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],attrs:{\"options\":_vm.tags,\"name\":\"tags\",\"multiple\":\"\",\"taggable\":true,\"tag-placeholder\":\"Add this as new tag\",\"placeholder\":\"Adcione tags para sua notícia\",\"label\":\"name\",\"track-by\":\"value\"},model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}}),_vm._l((_vm.errors.tags),function(e){return (_vm.errors)?_c('span',{staticClass:\"text-danger\"},[_c('small',[_vm._v(_vm._s(e))])]):_vm._e()})],2),_c('form-group',{attrs:{\"label\":\"Imagem\",\"name\":\"cover\",\"validate\":_vm.vee}},[_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],ref:\"cover\",staticClass:\"form-control\",attrs:{\"type\":\"file\",\"name\":\"cover\"},on:{\"change\":_vm.fileChange}}),_vm._l((_vm.errors.cover),function(e){return (_vm.errors)?_c('span',{staticClass:\"text-danger\"},[_c('small',[_vm._v(_vm._s(e))])]):_vm._e()})],2),_vm._m(0)],1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-12\"},[_c('button',{staticClass:\"btn btn-primary float-right\",attrs:{\"type\":\"submit\"}},[_vm._v(\"Enviar\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <form @submit.prevent=\"submit\">\r\n            <div class=\"row\">\r\n\r\n                <form-group label=\"Título\" :validate=\"vee\" name=\"title\">\r\n                    <input class=\"form-control\" v-model=\"news.title\" v-validate=\"'required|max:100'\" name=\"title\"/>\r\n                </form-group>\r\n\r\n                <form-group label=\"Resumo\" name=\"description\" :validate=\"vee\">\r\n                    <input class=\"form-control\" v-model=\"news.resume\" v-validate=\"'required|max:100'\"\r\n                           name=\"description\"/>\r\n                </form-group>\r\n\r\n                <form-group label=\"Conteúdo\" name=\"text\" :validate=\"vee\">\r\n                    <wysiwyg v-model=\"news.text\" refs=\"text\" v-validate=\"'required'\" name=\"text\"/>\r\n                </form-group>\r\n\r\n                <form-group label=\"Tags\" col=\"col-md-6\" :validate=\"vee\" name=\"tags\">\r\n                    <v-select v-model=\"tags\" :options=\"tags\" name=\"tags\" multiple\r\n                              :taggable=\"true\"\r\n                              tag-placeholder=\"Add this as new tag\"\r\n                              placeholder=\"Adcione tags para sua notícia\"\r\n                              label=\"name\"\r\n                              track-by=\"value\"\r\n                              v-validate=\"'required'\"></v-select>\r\n                    <span class=\"text-danger\" v-if=\"errors\" v-for=\"e in errors.tags\">\r\n                    <small>{{e}}</small>\r\n                </span>\r\n                </form-group>\r\n\r\n                <form-group label=\"Imagem\" name=\"cover\" :validate=\"vee\">\r\n                    <input type=\"file\" class=\"form-control\" name=\"cover\" @change=\"fileChange\" ref=\"cover\"\r\n                           v-validate=\"'required'\"/>\r\n                    <span class=\"text-danger\" v-if=\"errors\" v-for=\"e in errors.cover\">\r\n                    <small>{{e}}</small>\r\n                </span>\r\n                </form-group>\r\n\r\n                <div class=\"col-md-12\">\r\n                    <button type=\"submit\" class=\"btn btn-primary float-right\">Enviar</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    import handleErrors from '../../../mixins/handle_errors';\r\n    import CommonFunctions from './CommonMixins'\r\n\r\n    export default {\r\n        mixins: [handleErrors, CommonFunctions],\r\n        methods: {\r\n            createNews() {\r\n                this.preload(true);\r\n                let data = this.getFormData();\r\n                this.$store.dispatch('createNews', data).then(\r\n                    response => {\r\n                        this.$router.push({name: 'admin.news.index'});\r\n                        this.$snotify.success(this.constants.messages.CREATE_SUCCESS_MESSAGE, this.constants.messages.SUCCESS_MESSAGE);\r\n                    }\r\n                ).catch((e) => {\r\n                    this.handleErrors(e)\r\n                }).finally(() => {\r\n                    this.preload(false);\r\n                });\r\n            },\r\n            submit() {\r\n                this.$validator.validate().then((hasnotError) => {\r\n                    if (hasnotError) {\r\n                        this.createNews();\r\n                    } else {\r\n                        this.$snotify.warning(this.constants.messages.FORM_VALIDATE_MESSAGE);\r\n                    }\r\n                })\r\n            },\r\n            resetForm() {\r\n                return {\r\n                    title: '',\r\n                    resume: '',\r\n                    text: '',\r\n                    cover: '',\r\n                }\r\n            },\r\n        },\r\n        created() {\r\n            this.news = this.resetForm();\r\n        },\r\n    }\r\n</script>\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Form.vue?vue&type=template&id=3dd672e6&\"\nimport script from \"./Form.vue?vue&type=script&lang=js&\"\nexport * from \"./Form.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Form.vue\"\nexport default component.exports","<template>\r\n    <element-wrapper>\r\n        <h6 class=\"element-header\">\r\n            Nova notícia\r\n        </h6>\r\n        <element-box>\r\n            <form-component></form-component>\r\n        </element-box>\r\n    </element-wrapper>\r\n</template>\r\n\r\n<script>\r\n\r\n    import FormComponent from './Form';\r\n\r\n    export default {\r\n        components: {\r\n            FormComponent\r\n        }\r\n    }\r\n\r\n</script>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Create.vue?vue&type=template&id=b752c5ba&\"\nimport script from \"./Create.vue?vue&type=script&lang=js&\"\nexport * from \"./Create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Create.vue\"\nexport default component.exports"],"sourceRoot":""}